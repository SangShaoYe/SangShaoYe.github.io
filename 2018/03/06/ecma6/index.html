<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>ECMA6 | My Blogs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ECMA6的部分新特性的讲解 author：桑景瑞">
<meta name="keywords" content="JavaSript">
<meta property="og:type" content="article">
<meta property="og:title" content="ECMA6">
<meta property="og:url" content="https://sangshaoye.github.io/2018/03/06/ecma6/index.html">
<meta property="og:site_name" content="My Blogs">
<meta property="og:description" content="ECMA6的部分新特性的讲解 author：桑景瑞">
<meta property="og:updated_time" content="2018-03-08T08:19:12.526Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ECMA6">
<meta name="twitter:description" content="ECMA6的部分新特性的讲解 author：桑景瑞">
  
    <link rel="alternate" href="/atom.xml" title="My Blogs" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">My Blogs</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">A man can&#39;t ride your back unless it is bent！</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://sangshaoye.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-ecma6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/06/ecma6/" class="article-date">
  <time datetime="2018-03-06T07:22:43.000Z" itemprop="datePublished">2018-03-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ECMA6
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>ECMA6的部分新特性的讲解</p>
<p>author：桑景瑞<br><a id="more"></a></p>
<h1 id="ECMA6"><a href="#ECMA6" class="headerlink" title="ECMA6"></a>ECMA6</h1><h6 id="首先，一直想针对ECMA6搞搞东西，现在就来搞一搞。"><a href="#首先，一直想针对ECMA6搞搞东西，现在就来搞一搞。" class="headerlink" title="首先，一直想针对ECMA6搞搞东西，现在就来搞一搞。"></a>首先，一直想针对ECMA6搞搞东西，现在就来搞一搞。</h6><h5 id="搞ECMA6的话首先还是需要有ECMA5的基础，然后来了解这门语言的最新进展ECMA6在2015年6月发布，目标的让JavaScript可以用来编写复杂的大型应用程序，成为企业级开发语言。这句话提现两点："><a href="#搞ECMA6的话首先还是需要有ECMA5的基础，然后来了解这门语言的最新进展ECMA6在2015年6月发布，目标的让JavaScript可以用来编写复杂的大型应用程序，成为企业级开发语言。这句话提现两点：" class="headerlink" title="搞ECMA6的话首先还是需要有ECMA5的基础，然后来了解这门语言的最新进展ECMA6在2015年6月发布，目标的让JavaScript可以用来编写复杂的大型应用程序，成为企业级开发语言。这句话提现两点："></a>搞ECMA6的话首先还是需要有ECMA5的基础，然后来了解这门语言的最新进展ECMA6在2015年6月发布，目标的让JavaScript可以用来编写复杂的大型应用程序，成为企业级开发语言。这句话提现两点：</h5><h6 id="1-JavaScript的发展，JavaScript将慢慢成为一门适应场景更广泛抗压力更强同时还秉承其轻量，语言相对简单等特点。（多的就不说了，都懂）"><a href="#1-JavaScript的发展，JavaScript将慢慢成为一门适应场景更广泛抗压力更强同时还秉承其轻量，语言相对简单等特点。（多的就不说了，都懂）" class="headerlink" title="1.JavaScript的发展，JavaScript将慢慢成为一门适应场景更广泛抗压力更强同时还秉承其轻量，语言相对简单等特点。（多的就不说了，都懂）"></a>1.JavaScript的发展，JavaScript将慢慢成为一门适应场景更广泛抗压力更强同时还秉承其轻量，语言相对简单等特点。（多的就不说了，都懂）</h6><h6 id="2-企业级语言是指那些为商业组织、大型企业而创建并部署的应用所编写使用的语言。这些大型企业级应用的结构复杂，涉及的外部资源众多、事务密集、数据量大、用户数多，有较强的安全性考虑。-所以说，JavaScript既成为企业级语言的话，其各方面无论稳健性，解释性，安全性，可移植性等都会完全符合企业级。现在来说，能称的上企业级的应该也只有JAVA了。"><a href="#2-企业级语言是指那些为商业组织、大型企业而创建并部署的应用所编写使用的语言。这些大型企业级应用的结构复杂，涉及的外部资源众多、事务密集、数据量大、用户数多，有较强的安全性考虑。-所以说，JavaScript既成为企业级语言的话，其各方面无论稳健性，解释性，安全性，可移植性等都会完全符合企业级。现在来说，能称的上企业级的应该也只有JAVA了。" class="headerlink" title="2.企业级语言是指那些为商业组织、大型企业而创建并部署的应用所编写使用的语言。这些大型企业级应用的结构复杂，涉及的外部资源众多、事务密集、数据量大、用户数多，有较强的安全性考虑。 所以说，JavaScript既成为企业级语言的话，其各方面无论稳健性，解释性，安全性，可移植性等都会完全符合企业级。现在来说，能称的上企业级的应该也只有JAVA了。"></a>2.企业级语言是指那些为商业组织、大型企业而创建并部署的应用所编写使用的语言。这些大型企业级应用的结构复杂，涉及的外部资源众多、事务密集、数据量大、用户数多，有较强的安全性考虑。 所以说，JavaScript既成为企业级语言的话，其各方面无论稳健性，解释性，安全性，可移植性等都会完全符合企业级。现在来说，能称的上企业级的应该也只有JAVA了。</h6><hr>
<h6 id="有人可能会问，不是说ECMA6吗，怎么一直在说JavaScript-，所以一个常见的问题就来了，ECMAScript-和-JavaScript-到底是什么关系？"><a href="#有人可能会问，不是说ECMA6吗，怎么一直在说JavaScript-，所以一个常见的问题就来了，ECMAScript-和-JavaScript-到底是什么关系？" class="headerlink" title="有人可能会问，不是说ECMA6吗，怎么一直在说JavaScript ，所以一个常见的问题就来了，ECMAScript 和 JavaScript 到底是什么关系？"></a>有人可能会问，不是说ECMA6吗，怎么一直在说JavaScript ，所以一个常见的问题就来了，ECMAScript 和 JavaScript 到底是什么关系？</h6><h6 id="要讲清楚这个问题，需要回顾历史。1996-年-11-月，JavaScript-的创造者-Netscape-公司，决定将-JavaScript-提交给标准化组织-ECMA，希望这种语言能够成为国际标准。次年，ECMA-发布-262-号标准文件（ECMA-262）的第一版，规定了浏览器脚本语言的标准，并将这种语言称为-ECMAScript，这个版本就是-1-0-版。该标准从一开始就是针对JavaScript-语言制定的，但是之所以不叫-JavaScript，有两个原因。一是商标，Java-是-Sun-公司的商标，根据授权协议，只有-Netscape-公司可以合法地使用-JavaScript-这个名字，且JavaScript-本身也已经被-Netscape-公司注册为商标。二是想体现这门语言的制定者是ECMA，不是-Netscape，这样有利于保证这门语言的开放性和中立性。因此，ECMAScript-和-JavaScript-的关系是，前者是后者的规格，后者是前者的一种实现（另外的-ECMAScript-方言还有-Jscript-和-ActionScript）。日常场合，这两个词是可以互换的。"><a href="#要讲清楚这个问题，需要回顾历史。1996-年-11-月，JavaScript-的创造者-Netscape-公司，决定将-JavaScript-提交给标准化组织-ECMA，希望这种语言能够成为国际标准。次年，ECMA-发布-262-号标准文件（ECMA-262）的第一版，规定了浏览器脚本语言的标准，并将这种语言称为-ECMAScript，这个版本就是-1-0-版。该标准从一开始就是针对JavaScript-语言制定的，但是之所以不叫-JavaScript，有两个原因。一是商标，Java-是-Sun-公司的商标，根据授权协议，只有-Netscape-公司可以合法地使用-JavaScript-这个名字，且JavaScript-本身也已经被-Netscape-公司注册为商标。二是想体现这门语言的制定者是ECMA，不是-Netscape，这样有利于保证这门语言的开放性和中立性。因此，ECMAScript-和-JavaScript-的关系是，前者是后者的规格，后者是前者的一种实现（另外的-ECMAScript-方言还有-Jscript-和-ActionScript）。日常场合，这两个词是可以互换的。" class="headerlink" title="要讲清楚这个问题，需要回顾历史。1996 年 11 月，JavaScript 的创造者 Netscape 公司，决定将 JavaScript 提交给标准化组织 ECMA，希望这种语言能够成为国际标准。次年，ECMA 发布 262 号标准文件（ECMA-262）的第一版，规定了浏览器脚本语言的标准，并将这种语言称为 ECMAScript，这个版本就是 1.0 版。该标准从一开始就是针对JavaScript 语言制定的，但是之所以不叫 JavaScript，有两个原因。一是商标，Java 是 Sun 公司的商标，根据授权协议，只有 Netscape 公司可以合法地使用 JavaScript 这个名字，且JavaScript 本身也已经被 Netscape 公司注册为商标。二是想体现这门语言的制定者是ECMA，不是 Netscape，这样有利于保证这门语言的开放性和中立性。因此，ECMAScript 和 JavaScript 的关系是，前者是后者的规格，后者是前者的一种实现（另外的 ECMAScript 方言还有 Jscript 和 ActionScript）。日常场合，这两个词是可以互换的。"></a>要讲清楚这个问题，需要回顾历史。1996 年 11 月，JavaScript 的创造者 Netscape 公司，决定将 JavaScript 提交给标准化组织 ECMA，希望这种语言能够成为国际标准。次年，ECMA 发布 262 号标准文件（ECMA-262）的第一版，规定了浏览器脚本语言的标准，并将这种语言称为 ECMAScript，这个版本就是 1.0 版。该标准从一开始就是针对JavaScript 语言制定的，但是之所以不叫 JavaScript，有两个原因。一是商标，Java 是 Sun 公司的商标，根据授权协议，只有 Netscape 公司可以合法地使用 JavaScript 这个名字，且JavaScript 本身也已经被 Netscape 公司注册为商标。二是想体现这门语言的制定者是ECMA，不是 Netscape，这样有利于保证这门语言的开放性和中立性。因此，ECMAScript 和 JavaScript 的关系是，前者是后者的规格，后者是前者的一种实现（另外的 ECMAScript 方言还有 Jscript 和 ActionScript）。日常场合，这两个词是可以互换的。</h6><h6 id="在这里JavaScript-和-ECMAScript-的历史就不做陈述了，可以自行百度去了解一下。言归正传。说了这么多，大家也能看出来，本文主要是对ECMA6的部分新特性进行详细解释及用法（看好了是部分，全部肯定是一时半会写不完的，想全方面去了解的话，建议读一下《ECMAScript-6-入门》）"><a href="#在这里JavaScript-和-ECMAScript-的历史就不做陈述了，可以自行百度去了解一下。言归正传。说了这么多，大家也能看出来，本文主要是对ECMA6的部分新特性进行详细解释及用法（看好了是部分，全部肯定是一时半会写不完的，想全方面去了解的话，建议读一下《ECMAScript-6-入门》）" class="headerlink" title="在这里JavaScript 和 ECMAScript 的历史就不做陈述了，可以自行百度去了解一下。言归正传。说了这么多，大家也能看出来，本文主要是对ECMA6的部分新特性进行详细解释及用法（看好了是部分，全部肯定是一时半会写不完的，想全方面去了解的话，建议读一下《ECMAScript 6 入门》）"></a>在这里JavaScript 和 ECMAScript 的历史就不做陈述了，可以自行百度去了解一下。言归正传。说了这么多，大家也能看出来，本文主要是对ECMA6的部分新特性进行详细解释及用法（看好了是部分，全部肯定是一时半会写不完的，想全方面去了解的话，建议读一下《ECMAScript 6 入门》）</h6><hr>
<h3 id="下面开始开始正题（顺序无任何依据）："><a href="#下面开始开始正题（顺序无任何依据）：" class="headerlink" title="下面开始开始正题（顺序无任何依据）："></a>下面开始开始正题（顺序无任何依据）：</h3><h4 id="1-Default-Parameters（默认参数）"><a href="#1-Default-Parameters（默认参数）" class="headerlink" title="1.Default Parameters（默认参数）"></a>1.Default Parameters（默认参数）</h4><p>ES5：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var link = function (height, color, url) &#123;  </span><br><span class="line">    var height = height || 50;  </span><br><span class="line">    var color = color || &apos;red&apos;;  </span><br><span class="line">    var url = url || &apos;http://azat.co&apos;;  </span><br><span class="line">    ...  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ES6：直接写在参数里</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var link = function(height = 50, </span><br><span class="line">    color = &apos;red&apos;,</span><br><span class="line">    url = &apos;http://azat.co&apos;) &#123;  </span><br><span class="line">  ...  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>++优点：节约代码量++</p>
<h4 id="2-Template-Literals（模板对象）"><a href="#2-Template-Literals（模板对象）" class="headerlink" title="2.Template Literals（模板对象）"></a>2.Template Literals（模板对象）</h4><p>ES5：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var name = &apos;Your name is &apos; + first + &apos; &apos; + last + &apos;.&apos;;  </span><br><span class="line">var url = &apos;http://localhost:8080/index/&apos; + id;</span><br></pre></td></tr></table></figure>
<p>ES6：，使用新的语法 $ {NAME}，并把它放在反引号里：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var name = &apos;Your name is $&#123;first&#125; $&#123;last&#125;.&apos;;</span><br><span class="line">var url = &apos;http://localhost:8080/index/$&#123;id&#125;&apos;;</span><br></pre></td></tr></table></figure>
<p>++优点：这里的$ {NAME}直接当做字符串用，无需写加号，不容易乱++</p>
<h4 id="3-Multi-line-Strings-（多行字符串）"><a href="#3-Multi-line-Strings-（多行字符串）" class="headerlink" title="3.Multi-line Strings （多行字符串）"></a>3.Multi-line Strings （多行字符串）</h4><p>ES5:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var roadPoem = &apos;Then took the other, as just as fair,nt&apos;  </span><br><span class="line">    + &apos;And having perhaps the better claimnt&apos;  </span><br><span class="line">    + &apos;Because it was grassy and wanted wear,nt&apos;  </span><br><span class="line">    + &apos;Though as for that the passing therent&apos;  </span><br><span class="line">    + &apos;Had worn them really about the same,nt&apos;;  </span><br><span class="line">var fourAgreements = &apos;You have the right to be you.n  </span><br><span class="line">    You can only be you when you do your best.&apos;;</span><br></pre></td></tr></table></figure>
<p>ES6: 反引号就可以啦！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var roadPoem = `Then took the other, as just as fair, </span><br><span class="line">    And having perhaps the better claim </span><br><span class="line">    Because it was grassy and wanted wear  </span><br><span class="line">    Though as for that the passing theren </span><br><span class="line">    Had worn them really about the same,`;  </span><br><span class="line">var fourAgreements = `You have the right to be you.n  </span><br><span class="line">    You can only be you when you do your best.`;</span><br></pre></td></tr></table></figure>
<p>++优点：直接一个反引号，将所有的字符串放进去即可，中介随意换行，清爽简洁（vue里面的template就这么用）++</p>
<h4 id="4-Destructuring-Assignment-（解构赋值）"><a href="#4-Destructuring-Assignment-（解构赋值）" class="headerlink" title="4.Destructuring Assignment （解构赋值）"></a>4.Destructuring Assignment （解构赋值）</h4><p>下边例子中，house 和 mouse是 key，同时 house 和 mouse 也是一个变量。</p>
<p>ES5：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var data = $(&apos;body&apos;).data(), // data has properties house and mouse  </span><br><span class="line">    house = data.house,  </span><br><span class="line">    mouse = data.mouse;</span><br></pre></td></tr></table></figure>
<p>以及在node.js中用ES5是这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var jsonMiddleware = require(&apos;body-parser&apos;).jsonMiddleware ;  </span><br><span class="line">var body = req.body, // body has username and password  </span><br><span class="line">username = body.username,  </span><br><span class="line">password = body.password;</span><br></pre></td></tr></table></figure>
<p>ES6：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var &#123;house,mouse&#125; = $(&apos;body&apos;).data(); //we&apos;ll get house and mouse variables </span><br><span class="line">var &#123;jsonMiddleware&#125; = require(&apos;body-parser&apos;);</span><br><span class="line">var &#123;username,password&#125; = req.body;</span><br></pre></td></tr></table></figure>
<p>在数组中是这样的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var [col1,col2] = $(&apos;.column&apos;),</span><br><span class="line">    [line1,line2,line3, ,line5] = file.split(&apos;n&apos;);</span><br></pre></td></tr></table></figure>
<p>++优点：使用{}省去了写对象的属性的步骤，当然这个{}中的变量是与对象的属性名字保持一致的情况下。++</p>
<h4 id="5-Enhanced-Object-Literals-（增强的对象字面量）"><a href="#5-Enhanced-Object-Literals-（增强的对象字面量）" class="headerlink" title="5.Enhanced Object Literals （增强的对象字面量）"></a>5.Enhanced Object Literals （增强的对象字面量）</h4><p>使用对象文本可以做许多让人意想不到的事情！通过ES6，我们可以把ES5中的JSON变得更加接近于一个类。</p>
<p>下面是一个典型ES5对象文本，里面有一些方法和属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var serviceBase = &#123;port: 3000, url: &apos;azat.co&apos;&#125;,  </span><br><span class="line">    getAccounts = function()&#123;return [1,2,3]&#125;;  </span><br><span class="line">var accountServiceES5 = &#123;  </span><br><span class="line">  port: serviceBase.port,  </span><br><span class="line">  url: serviceBase.url,  </span><br><span class="line">  getAccounts: getAccounts,  </span><br><span class="line">  toString: function() &#123;  </span><br><span class="line">      return JSON.stringify(this.valueOf());  </span><br><span class="line">  &#125;,  </span><br><span class="line">  getUrl: function() &#123;return &quot;http://&quot; + this.url + &apos;:&apos; + this.port&#125;,  </span><br><span class="line">  valueOf_1_2_3: getAccounts()  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果我们想让它更有意思，我们可以用Object.create从serviceBase继承原型的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var accountServiceES5ObjectCreate = Object.create(serviceBase)  </span><br><span class="line">// Object.create() 方法创建一个拥有指定原型和若干个指定属性的对象。</span><br><span class="line">var accountServiceES5ObjectCreate = &#123;  </span><br><span class="line">  getAccounts: getAccounts,  </span><br><span class="line">  toString: function() &#123;  </span><br><span class="line">    return JSON.stringify(this.valueOf());  </span><br><span class="line">  &#125;,  </span><br><span class="line">  getUrl: function() &#123;return &quot;http://&quot; + this.url + &apos;:&apos; + this.port&#125;,  </span><br><span class="line">  valueOf_1_2_3: getAccounts()  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ES6的对象文本中：既可以直接分配getAccounts: getAccounts,也可以只需用一个getAccounts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var serviceBase = &#123;port: 3000, url: &apos;azat.co&apos;&#125;,</span><br><span class="line">getAccount = function()&#123;return [1,2,3]&#125;;</span><br><span class="line">var accountService = &#123;</span><br><span class="line">    __proto__: serviceBase, //通过proto设置属性</span><br><span class="line">    getAccount, // 既可以直接分配getAccounts: getAccounts,也可以只需用一个getAccounts</span><br><span class="line">    toString() &#123; //这里将json形式改为函数形式 </span><br><span class="line">        return JSON.stringify(super.valueOf()); </span><br><span class="line">        //调用super防范</span><br><span class="line">    &#125;,  </span><br><span class="line">    getUrl() &#123;return &quot;http://&quot; + this.url + &apos;:&apos; + this.port&#125;,  </span><br><span class="line">    [ &apos;valueOf_&apos; + getAccounts().join(&apos;_&apos;) ]: getAccounts()  //使用动态key值(valueOf_1_2_3)此处将getAccounts()方法得到的数组[1,2,3]转化为字符串1_2_3</span><br><span class="line">&#125;;</span><br><span class="line">console.log(accountService);</span><br></pre></td></tr></table></figure>
<p>优点：</p>
<ul>
<li>相当于直接将结果写进去，而不再必须 key：value</li>
<li>将toString: function(){}这种json形式转变为 toString() {}这样的函数(类)的形式</li>
<li>既可以直接分配getAccounts:getAccounts这样的json形式，也可以只需用一个getAccounts表达相同的意思</li>
</ul>
<h4 id="6-Arrow-Functions-in（箭头函数）"><a href="#6-Arrow-Functions-in（箭头函数）" class="headerlink" title="　6.Arrow Functions in（箭头函数）"></a>　6.Arrow Functions in（箭头函数）</h4><p>这些丰富的箭头是令人惊讶的因为它们将使许多操作变成现实，比如，<br>以前我们使用闭包，this总是预期之外地产生改变，而箭头函数的迷人之处在于，现在你的this可以按照你的预期使用了，身处箭头函数里面，this还是原来的this。</p>
<p>ES5:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var _this = this;  </span><br><span class="line">$(&apos;.btn&apos;).click(function(event)&#123;  </span><br><span class="line">  _this.sendData();  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ES6: 就不需要用 _this = this：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;.btn&apos;).click((event) =&gt;&#123;  </span><br><span class="line">  this.sendData();  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>再比如：</p>
<p>ES5:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var logUpperCase = function() &#123;  </span><br><span class="line">  var _this = this;   //this = Object &#123;string: &quot;ES6 ROCKS&quot;&#125;</span><br><span class="line">  console.log(&apos;this指的是&apos;,this); //Object &#123;string: &quot;ES6 ROCKS&quot;&#125;</span><br><span class="line">  console.log(&apos;_this指的是&apos;,_this);//Object &#123;string: &quot;ES6 ROCKS&quot;&#125;</span><br><span class="line">  this.string = this.string.toUpperCase();  </span><br><span class="line">  console.log(_this.string); //ES6 ROCKS  </span><br><span class="line">  console.log(this.string);  //ES6 ROCKS</span><br><span class="line">  return function () &#123;  </span><br><span class="line">    return console.log(_this.string); //ES6 ROCKS</span><br><span class="line">    return console.log(_this.string); //如果return _this.string，将返回 undefined，因为</span><br><span class="line"></span><br><span class="line">  &#125;  </span><br><span class="line">&#125; </span><br><span class="line">logUpperCase.call(&#123; string: &apos;ES6 rocks&apos; &#125;)();</span><br></pre></td></tr></table></figure>
<p>ES6：我们并不需要用_this浪费时间,现在你的this可以按照你的预期使用了，身处箭头函数里面，this还是原来的this</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var logUpperCase = function() &#123;  </span><br><span class="line">  this.string = this.string.toUpperCase();//this还是原来的this  </span><br><span class="line">  return () =&gt; console.log(this.string);  </span><br><span class="line">&#125;  </span><br><span class="line">logUpperCase.call(&#123; string: &apos;ES6 rocks&apos; &#125;)();</span><br></pre></td></tr></table></figure>
<p>注意 只要你愿意，在ES6中=&gt;可以混合和匹配老的函数一起使用。当在一行代码中用了箭头函数，它就变成了一个表达式。它将暗地里返回单个语句的结果。如果你超过了一行，将需要明确使用return。</p>
<p>ES5：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var ids = [&apos;5632953c4e345e145fdf2df8&apos;,&apos;563295464e345e145fdf2df9&apos;];  </span><br><span class="line">var messages = ids.map(function (value) &#123;  </span><br><span class="line">  return &quot;ID is &quot; + value; // explicit return  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ES6：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var ids = [&apos;5632953c4e345e145fdf2df8&apos;,&apos;563295464e345e145fdf2df9&apos;];</span><br><span class="line">var messages = ids.map((value)  =&gt; `ID is $&#123;value&#125;`); //implicit return</span><br></pre></td></tr></table></figure>
<p>优点：</p>
<ol>
<li>并不需要用_this浪费时间，现在你的this可以按照你的预期使用了，身处箭头函数里面，this还是原来的this。 </li>
<li>=&gt; 可以代替function关键字，当在一行用了箭头函数，可以省去{}，还可以省去return，它会暗地里返回的。</li>
</ol>
<h4 id="7-Promises"><a href="#7-Promises" class="headerlink" title="　7.Promises"></a>　7.Promises</h4><p>ES5：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(function()&#123;  </span><br><span class="line">  console.log(&apos;Yay!&apos;);  </span><br><span class="line">&#125;, 1000);</span><br></pre></td></tr></table></figure>
<p>ES6: 我们可以用promise重写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var wait1000 = new Promise((resolve,reject)=&gt; &#123;</span><br><span class="line">   setTimeout(resolve,1000);</span><br><span class="line">&#125;).then(()=&gt; &#123;</span><br><span class="line">    console.log(&apos;Yay!&apos;); </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>如果我们有更多的嵌套逻辑在setTimeout()回调函数中，好处会明显一点：<br>ES5：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(function()&#123;  </span><br><span class="line">  console.log(&apos;Yay!&apos;);  </span><br><span class="line">  setTimeout(function()&#123;  </span><br><span class="line">    console.log(&apos;Wheeyee!&apos;);  </span><br><span class="line">  &#125;, 1000)  </span><br><span class="line">&#125;, 1000);</span><br></pre></td></tr></table></figure>
<p>ES6: 我们可以用promise重写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var wait1000 = ()=&gt; new Promise((resolve,reject)=&gt;&#123; setTimeout(resolve,1000);&#125;);</span><br><span class="line">wait1000()</span><br><span class="line">    .then(function()&#123;</span><br><span class="line">        console.log(&apos;Yay!&apos;);  </span><br><span class="line">        return wait1000()</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(function()&#123;</span><br><span class="line">         console.log(&apos;Wheeyee!&apos;);  </span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<h4 id="8-Block-Scoped-块作用域和构造let和const）"><a href="#8-Block-Scoped-块作用域和构造let和const）" class="headerlink" title="　 8.Block-Scoped(块作用域和构造let和const）"></a>　 8.Block-Scoped(块作用域和构造let和const）</h4><p>let是一种新的变量声明方式，它允许你把变量作用域控制在块级里面。我们用大括号定义代码块，在ES5中，块级作用域起不了任何作用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function calculateTotalAmount (vip) &#123;  </span><br><span class="line">  var amount = 0;  </span><br><span class="line">  if (vip) &#123;  </span><br><span class="line">    var amount = 1;  </span><br><span class="line">  &#125;  </span><br><span class="line">  &#123; // more crazy blocks!  </span><br><span class="line">    var amount = 100;  </span><br><span class="line">    &#123;  </span><br><span class="line">      var amount = 1000;  </span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;    </span><br><span class="line">  return amount;  </span><br><span class="line">&#125;  </span><br><span class="line">console.log(calculateTotalAmount(true));  // 1000</span><br></pre></td></tr></table></figure>
<p>ES6: 用let限制块级作用域</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function calculateTotalAmount(vip)&#123;</span><br><span class="line">    var amouont  = 0; // probably should also be let, but you can mix var and let</span><br><span class="line">    if (vip) &#123;  </span><br><span class="line">        let amount = 1; // first amount is still 0  </span><br><span class="line">    &#125;   </span><br><span class="line">    &#123; // more crazy blocks!  </span><br><span class="line">    let amount = 100; // first amount is still 0  </span><br><span class="line">    &#123;  </span><br><span class="line">      let amount = 1000; // first amount is still 0  </span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;    </span><br><span class="line">  return amount;  </span><br><span class="line">&#125; </span><br><span class="line">console.log(calculateTotalAmount(true));  //0</span><br></pre></td></tr></table></figure>
<p>因为块作用域中有了let。</p>
<p>谈到const，就更加容易了；它就是一个不变量，也是块级作用域就像let一样。</p>
<h4 id="9-Classes-（类）"><a href="#9-Classes-（类）" class="headerlink" title="　9.Classes （类）"></a>　9.Classes （类）</h4><p>ES6没有用函数,而是使用原型实现类。我们创建一个类baseModel ，并且在这个类里定义了一个constructor 和一个 getName()方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class baseModel &#123;  </span><br><span class="line">    constructor(options, data) &#123;// class constructor， 注意我们对options 和data使用了默认参数值。</span><br><span class="line">        this.name = &apos;Base&apos;;  </span><br><span class="line">        this.url = &apos;http://azat.co/api&apos;;  </span><br><span class="line">        this.data = data;  </span><br><span class="line">        this.options = options;  </span><br><span class="line">   &#125;  </span><br><span class="line">    getName() &#123; // class method  </span><br><span class="line">        console.log(`Class name: $&#123;this.name&#125;`);  </span><br><span class="line">    &#125; </span><br><span class="line">    getUrl() &#123; // class method  </span><br><span class="line">         console.log(`Url: $&#123;this.url&#125;`);  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>AccountModel 从类baseModel 中继承而来:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class AccountModel extends baseModel &#123;  </span><br><span class="line">    constructor(options, data) &#123; </span><br><span class="line">    super(&#123;private: true&#125;, [&apos;32&apos;, &apos;5242&apos;]); </span><br><span class="line">    this.url +=&apos;/accounts/&apos;;  </span><br><span class="line">    &#125;</span><br><span class="line">    get accountsData() &#123;</span><br><span class="line">        return this.data;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125; </span><br><span class="line">// 调用</span><br><span class="line">let accounts = new AccountModel(5);  </span><br><span class="line">accounts.getName();  // Class name:  Base</span><br><span class="line">console.log(&apos;Data is %s&apos;, accounts.accountsData); </span><br><span class="line">// Data is 32,5242</span><br><span class="line"></span><br><span class="line">//子类必须在constructor方法中调用super方法，否则新建实例时会报错。</span><br><span class="line">//这是因为子类没有自己的this对象，而是继承父类的this对象，然后对其进行加工。</span><br><span class="line">//如果不调用super方法，子类就得不到this对象。</span><br></pre></td></tr></table></figure>
<h4 id="10-Modules-（模块）"><a href="#10-Modules-（模块）" class="headerlink" title="10. Modules （模块）"></a>10. Modules （模块）</h4><p>ES5导出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123; port: 3000, getAccounts: function() &#123; ... &#125;&#125;</span><br></pre></td></tr></table></figure>
<p>ES6导出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export var port = 3000;</span><br><span class="line">export function getAccounts(url) &#123; ...&#125;</span><br></pre></td></tr></table></figure>
<p>ES5导入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var service = require(&apos;module.js&apos;);</span><br><span class="line">console.log(service.port); // 3000</span><br></pre></td></tr></table></figure>
<p>ES6导入：</p>
<p>我们需用import {name} from ‘my-module’语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &#123;port, getAccounts&#125; from &apos;module&apos;;</span><br><span class="line">console.log(port); // 300</span><br></pre></td></tr></table></figure>
<p>或者ES6整体导入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import * as service from &apos;module&apos;;</span><br><span class="line">console.log(service.port); // 3000</span><br></pre></td></tr></table></figure>
<p>参考：</p>
<ol>
<li><a href="http://blog.csdn.net/bingtangcsnd/article/details/63684142" target="_blank" rel="noopener">http://blog.csdn.net/bingtangcsnd/article/details/63684142</a></li>
<li>《ES6 标准入门（第3版）》</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sangshaoye.github.io/2018/03/06/ecma6/" data-id="cjhad4b9h0005vs55u074j6o0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaSript/">JavaSript</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/03/08/Java架构师计划/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Java架构师计划
        
      </div>
    </a>
  
  
    <a href="/2018/03/06/nginx-https/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">nginx_https</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JAVA/">JAVA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaSript/">JavaSript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LIUNX/">LIUNX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NGINX/">NGINX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端日常问题/">前端日常问题</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JAVA/" style="font-size: 10px;">JAVA</a> <a href="/tags/JavaSript/" style="font-size: 20px;">JavaSript</a> <a href="/tags/LIUNX/" style="font-size: 15px;">LIUNX</a> <a href="/tags/NGINX/" style="font-size: 10px;">NGINX</a> <a href="/tags/angular/" style="font-size: 10px;">angular</a> <a href="/tags/webpack/" style="font-size: 10px;">webpack</a> <a href="/tags/前端日常问题/" style="font-size: 10px;">前端日常问题</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/06/28/webapck配置中chunkname/">webpack</a>
          </li>
        
          <li>
            <a href="/2018/03/26/PS1/">PS1</a>
          </li>
        
          <li>
            <a href="/2018/03/22/放大镜/">放大镜</a>
          </li>
        
          <li>
            <a href="/2018/03/19/vue中js生成的html无样式/">vue中js生成的html无样式</a>
          </li>
        
          <li>
            <a href="/2018/03/19/angular/">angular搭建</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 SangJingRui<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>